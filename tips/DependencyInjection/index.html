<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Jorge Moura"/><link rel="canonical" href="https://jjorgemoura.com/tips/DependencyInjection"/><meta name="twitter:url" content="https://jjorgemoura.com/tips/DependencyInjection"/><meta name="og:url" content="https://jjorgemoura.com/tips/DependencyInjection"/><title>DI - Dependency Injection | Jorge Moura</title><meta name="twitter:title" content="DI - Dependency Injection | Jorge Moura"/><meta name="og:title" content="DI - Dependency Injection | Jorge Moura"/><meta name="description" content="I'm an iOS Senior Software Engineer based in London"/><meta name="twitter:description" content="I'm an iOS Senior Software Engineer based in London"/><meta name="og:description" content="I'm an iOS Senior Software Engineer based in London"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Jorge Moura"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Jorge Moura</a><nav><ul><li><a href="/posts">My posts</a></li><li><a href="/articles">Main Articles</a></li><li><a class="selected" href="/tips">Quick Tips</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper"><article><div class="content"><h1>DI - Dependency Injection</h1><p>From SOLID, the D stand for Dependency Inversion principle. In order to handle this, the technique to follow is doing Dependency Injection.</p><p>Also, DI is a good technique to avoid the use of Singletons everywhere.</p><p>In order to accomplish DI, we need/must use protocols (POP).</p><p>In order to accomplish DI, we have 4 options:</p><ul><li>via init</li></ul><p>All the dependencies are set during the initialisation. In order to avoid having multiple parameters, we can use Swift capabilities of setting default values for the parameters. This capability allow to use the default values in production code but pass fake objects during tests.</p><ul><li>via properties</li></ul><p>Quite similar with the previous technique. However this force the parameters to be optional (ok, we can set default values and only set new values for testing) or we need to set all the dependencies after the init. This technique is used almost always when we are dealing with ViewControllers. This due to the fact ViewControllers initialisers works.</p><ul><li>via method parameters</li></ul><p>This is, in my opinion, a less suitable option.</p><ul><li>via a Lib</li></ul><p>Personally I don't like this option. There is a kind of black magic behind that I don't appreciate.</p><p><strong>Tools</strong></p><p><a href="https://github.com/Swinject/Swinject">Swinject</a></p><p><strong>Resources</strong></p><p><a href="https://www.swiftbysundell.com/posts/different-flavors-of-dependency-injection-in-swift">https://www.swiftbysundell.com/posts/different-flavors-of-dependency-injection-in-swift</a></p><p><a href="https://www.swiftbysundell.com/posts/dependency-injection-using-factories-in-swift">https://www.swiftbysundell.com/posts/dependency-injection-using-factories-in-swift</a></p><p><a href="https://artsy.github.io/blog/2016/06/27/dependency-injection-in-swift/">https://artsy.github.io/blog/2016/06/27/dependency-injection-in-swift/</a></p><p><a href="https://www.objc.io/issues/15-testing/dependency-injection/">https://www.objc.io/issues/15-testing/dependency-injection/</a></p><p><a href="https://cocoacasts.com/nuts-and-bolts-of-dependency-injection-in-swift/">https://cocoacasts.com/nuts-and-bolts-of-dependency-injection-in-swift/</a></p><p><a href="https://codeburst.io/solid-design-principle-using-swift-fa67443672b8">https://codeburst.io/solid-design-principle-using-swift-fa67443672b8</a></p><p><a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle">https://en.wikipedia.org/wiki/Dependency<em>inversion</em>principle</a></p></div><span>Tagged with: </span><ul class="tag-list"></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="/feed.rss">RSS feed</a></p></footer></body></html>